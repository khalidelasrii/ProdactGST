<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercice 3</title>
    <style>
        html,
        body {
            height: 100%;
            width: 100%;
        }

        td {
            width: 50px;
            height: 50px;
            text-align: center;
        }

        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
        }
    </style>
</head>
<body>
    <div class="container">
        <table border="1">
            <tr>
                <td id="1"><button onclick="changeValeur('1')">click</button></td>
                <td id="2"><button onclick="changeValeur('2')">click</button></td>
                <td id="3"><button onclick="changeValeur('3')">click</button></td>
            </tr>
            <tr>
                <td id="4"><button onclick="changeValeur('4')">click</button></td>
                <td id="5"><button onclick="changeValeur('5')">click</button></td>
                <td id="6"><button onclick="changeValeur('6')">click</button></td>
            </tr>
            <tr>
                <td id="7"><button onclick="changeValeur('7')">click</button></td>
                <td id="8"><button onclick="changeValeur('8')">click</button></td>
                <td id="9"><button onclick="changeValeur('9')">click</button></td>
            </tr>
        </table>
    </div>
    <script>
        var ids = ["1", "2", "3", "4", "5", "6", "7", "8", "9"];
        var frstPl = [];
        var secndPl = [];

        function changeValeur(idbtn) {
            frstPl.push(idbtn);
            document.getElementById(idbtn).innerHTML = "X";
            var indexS = ids.indexOf(idbtn);
            if (ids.length > 1) {
                ids.splice(indexS, 1);
            }

            var index = Math.floor(Math.random() * ids.length);
            document.getElementById(ids[index]).innerHTML = "O";
            secndPl.push(ids[index]);
            if (ids.length > 1) {
                ids.splice(index, 1);
            }

            let listeSolution = [
                ["1", "2", "3"], ["4", "5", "6"], ["7", "8", "9"],
                ["1", "4", "7"], ["2", "5", "8"], ["3", "6", "9"],
                ["1", "5", "9"], ["3", "5", "7"]
            ];

            if (secndPl.length > 2 || frstPl.length > 2) {
                for (let i = 0; i < listeSolution.length; i++) {
                    let toutesPresentes = listeSolution[i].every(function (valeur) {
                        return secndPl.includes(valeur);
                    });
                    if (toutesPresentes) {
                        for (let j = 0; j < listeSolution[i].length; j++) {
                            document.getElementById(listeSolution[i][j]).style.backgroundColor = "red";
                        }
                    }else{
                        console.log("eeeeeeeeeeeee")
                    }
                }

                for (let i = 0; i < listeSolution.length; i++) {
                    let toutesPresentes = listeSolution[i].every(function (valeur) {
                        return frstPl.includes(valeur);
                    });
                    if (toutesPresentes) {
                        for (let j = 0; j < listeSolution[i].length; j++) {
                            document.getElementById(listeSolution[i][j]).style.backgroundColor = "green";
                        }
                    }else{
                        console.log("bbbbbbbbbbbbbbbbbbbbb")
                    }
                }
            }
        }
    </script>
</body>
</html>
